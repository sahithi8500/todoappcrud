{"ast":null,"code":"import React,{useState,useEffect}from'react';import{connect}from'react-redux';import'./todo.css';import{getData,putData,deleteData,postData}from'../api';import TodoList from'./TodoList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Todo(props){console.log(props);// const [newTodo,setNewtodo]= useState('');\nconst[edit,setEdit]=useState(false);const[products,setProducts]=useState([]);const[intialState,setInitialstate]=useState({todo:\"\",completed:false,userId:''});useEffect(()=>{getAllProducts();},[]);async function getAllProducts(){const response=await getData();console.log(response);setProducts(response.data.todos);}async function addProduct(intialState){console.log(intialState);console.log(edit);let data={todo:intialState.todo,completed:false,userId:5};if(edit){let putres=await putData(intialState.id,data);console.log(putres);}else{let postres=await postData(intialState);console.log(postres);}// getAllProducts();\n}function editProduct(value){setEdit(true);console.log(value);// setNewtodo(value.todo);\nsetInitialstate(value);}async function deleteProduct(id){let res=await deleteData(id);console.log(res);// getAllProducts();\n}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Todolist2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"todo\",value:intialState.todo,onChange:e=>setInitialstate({...intialState,[e.target.name]:e.target.value})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addProduct(intialState),children:\"Add todo\"}),/*#__PURE__*/_jsx(TodoList,{products:products,editProduct:editProduct,deleteProduct:deleteProduct})]});}export default connect(function(store){return store;})(Todo);","map":{"version":3,"names":["React","useState","useEffect","connect","getData","putData","deleteData","postData","TodoList","jsx","_jsx","jsxs","_jsxs","Todo","props","console","log","edit","setEdit","products","setProducts","intialState","setInitialstate","todo","completed","userId","getAllProducts","response","data","todos","addProduct","putres","id","postres","editProduct","value","deleteProduct","res","children","type","name","onChange","e","target","onClick","store"],"sources":["/home/user/Videos/Taskfor job/Todo/todolist/src/components/Todo.jsx"],"sourcesContent":["import React, { useState , useEffect} from 'react'\nimport {connect} from 'react-redux';\nimport './todo.css';\nimport { getData, putData, deleteData, postData } from '../api';\nimport TodoList from './TodoList';\n\n\nfunction Todo(props) {\n    console.log(props);\n    // const [newTodo,setNewtodo]= useState('');\n    const [edit,setEdit]= useState(false);\n\n    const [products, setProducts] = useState([]);\n    const [intialState, setInitialstate]= useState({\n        todo: \"\",\n        completed: false,\n        userId: ''\n    })\n\n    useEffect(() => {\n        getAllProducts();\n    }, [])\n    async function getAllProducts() {\n        const response = await getData();\n        console.log(response)\n        setProducts(response.data.todos);\n    }\n    async function addProduct(intialState) {\n        console.log(intialState);\n        console.log(edit);\n        let data = {\n            todo: intialState.todo,\n            completed:false,\n            userId:5,\n        }\n        if (edit){\n           let putres =  await putData(intialState.id, data);\n           console.log(putres);\n\n        }\n        else{\n         let postres = await postData(intialState);\n         console.log(postres);\n           \n        }\n        // getAllProducts();\n\n\n    }\n    function editProduct(value) {\n        setEdit(true);\n        console.log(value);\n        // setNewtodo(value.todo);\n        setInitialstate(value)\n\n    }\n    async function deleteProduct(id) {\n       let res =  await deleteData(id);\n       console.log(res);\n        // getAllProducts();\n    }\n  return (\n    <div>\n        <h1>Todolist2</h1>\n        <input type='text' name='todo' value={intialState.todo} onChange={(e)=> setInitialstate({...intialState,[e.target.name]:e.target.value})}/>\n        <button onClick={()=>addProduct(intialState)} >Add todo</button>\n        <TodoList products={products} editProduct={editProduct} deleteProduct={deleteProduct}/>\n    </div>\n  )\n}\n\n\nexport default connect(function(store){return store})(Todo)"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}