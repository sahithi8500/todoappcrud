{"ast":null,"code":"import React,{useState,useEffect}from'react';// import {connect} from 'react-redux';\nimport'./todo.css';import{getData,putData,deleteData,postData}from'../api';import TodoList from'./TodoList';import{useSelector,useDispatch}from'react-redux';import{fetchData}from'../reducers/actions';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Todo(props){const dispatch=useDispatch();const dataState=useSelector(state=>state);const[edit,setEdit]=useState(false);// const [products, setProducts] = useState([]);\nconst[intialState,setInitialstate]=useState({todo:\"\",completed:false,userId:''});useEffect(()=>{dispatch(fetchData());},[dispatch]);// useEffect(() => {\n//     getAllProducts();\n// }, [])\nif(dataState.loading){return/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"});}if(dataState.error){return/*#__PURE__*/_jsx(\"h2\",{children:dataState.error});}async function getAllProducts(){const response=await getData();}async function addProduct(intialState){let data={todo:intialState.todo,completed:false,userId:5};if(edit){let putres=await putData(intialState.id,data);console.log(putres);}else{let postres=await postData({...intialState,userId:Math.ceil(Math.random(20,80)*100)});console.log(postres);}}function editProduct(value){setEdit(true);setInitialstate(value);}async function deleteProduct(id){let res=await deleteData(id);console.log(res);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Todolist2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"todo\",value:intialState.todo,onChange:e=>setInitialstate({...intialState,[e.target.name]:e.target.value})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addProduct(intialState),children:\"Add todo\"}),/*#__PURE__*/_jsx(TodoList,{data:dataState.todoReducer.data.todos,editProduct:editProduct,deleteProduct:deleteProduct})]});}export default Todo;","map":{"version":3,"names":["React","useState","useEffect","getData","putData","deleteData","postData","TodoList","useSelector","useDispatch","fetchData","jsx","_jsx","jsxs","_jsxs","Todo","props","dispatch","dataState","state","edit","setEdit","intialState","setInitialstate","todo","completed","userId","loading","children","error","getAllProducts","response","addProduct","data","putres","id","console","log","postres","Math","ceil","random","editProduct","value","deleteProduct","res","type","name","onChange","e","target","onClick","todoReducer","todos"],"sources":["/home/user/Videos/Taskfor job/Todo/todolist/src/components/Todo.jsx"],"sourcesContent":["import React, { useState , useEffect} from 'react'\n// import {connect} from 'react-redux';\nimport './todo.css';\nimport { getData, putData, deleteData, postData } from '../api';\nimport TodoList from './TodoList';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchData } from '../reducers/actions'\n\n\nfunction Todo(props) {\n    \n    const dispatch = useDispatch();\n    const dataState = useSelector(state => state);\n    const [edit,setEdit]= useState(false);\n    // const [products, setProducts] = useState([]);\n    const [intialState, setInitialstate]= useState({\n        todo: \"\",\n        completed: false,\n        userId: ''\n    })\n\n\n    useEffect(() => {\n        dispatch(fetchData());\n    }, [ dispatch]);\n    // useEffect(() => {\n    //     getAllProducts();\n    // }, [])\n\n    if (dataState.loading) {\n        return <h2>Loading...</h2>;\n    }\n\n    if (dataState.error) {\n        return <h2>{dataState.error}</h2>;\n    }\n   \n    async function getAllProducts() {\n        const response = await getData();\n    }\n    async function addProduct(intialState) {\n        let data = {\n            todo: intialState.todo,\n            completed:false,\n            userId:5,\n        }\n        if (edit){\n           let putres =  await putData(intialState.id, data);\n           console.log(putres);\n\n        }\n        else{\n         let postres = await postData({...intialState,userId:(Math.ceil(Math.random(20,80)*100))});\n         console.log(postres);\n           \n        }\n\n\n    }\n    function editProduct(value) {\n        setEdit(true);\n        setInitialstate(value)\n\n    }\n    async function deleteProduct(id) {\n       let res =  await deleteData(id);\n       console.log(res);\n    }\n  return (\n    <div>\n        <h1>Todolist2</h1>\n        <input type='text' name='todo' value={intialState.todo} onChange={(e)=> setInitialstate({...intialState,[e.target.name]:e.target.value})}/>\n        <button onClick={()=>addProduct(intialState)} >Add todo</button>\n        <TodoList data={dataState.todoReducer.data.todos} editProduct={editProduct} deleteProduct={deleteProduct}/>\n    </div>\n  )\n}\n\n\nexport default Todo"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}